@use '@/styles/variables' as *;
@use '@/styles/mixins' as *;

.bookContainer {
  position: relative;
  width: 100%;
  min-height: 100vh;
  background: linear-gradient(135deg, #f5f1e8 0%, #e8dcc8 100%);
  overflow-x: hidden;
}

.bookPerspective {
  perspective: 2000px;
  perspective-origin: center center;
  width: 100%;
  min-height: 100vh;
  position: relative;
  
  @include desktop {
    perspective: 2500px;
  }
}

.bookPage {
  position: relative;
  width: 100%;
  min-height: 100vh;
  background: #fdf6e3;
  transform-style: preserve-3d;
  backface-visibility: hidden;
  will-change: transform, opacity;
  
  // Paper texture
  background-image: 
    repeating-linear-gradient(
      0deg,
      transparent,
      transparent 2px,
      rgba(0, 0, 0, 0.01) 2px,
      rgba(0, 0, 0, 0.01) 4px
    );
  
  // Subtle page curl effect
  &::before {
    content: '';
    position: absolute;
    top: 0;
    right: 0;
    bottom: 0;
    left: 0;
    background: linear-gradient(
      90deg,
      rgba(0, 0, 0, 0.03) 0%,
      transparent 5%,
      transparent 95%,
      rgba(0, 0, 0, 0.03) 100%
    );
    pointer-events: none;
    z-index: 1;
  }
  
  @include desktop {
    box-shadow: 
      -5px 0 15px rgba(0, 0, 0, 0.1),
      5px 0 15px rgba(0, 0, 0, 0.1),
      0 10px 30px rgba(0, 0, 0, 0.15);
  }
}

.pageContent {
  position: relative;
  width: 100%;
  min-height: 100vh;
  z-index: 2;
}

.pageShadow {
  position: absolute;
  top: 0;
  right: 0;
  bottom: 0;
  width: 30px;
  background: linear-gradient(
    to left,
    rgba(0, 0, 0, 0.15),
    transparent
  );
  pointer-events: none;
  z-index: 3;
  opacity: 0.5;
  
  @include desktop {
    width: 50px;
  }
}

.pageEdge {
  position: absolute;
  top: 0;
  right: 0;
  bottom: 0;
  width: 2px;
  background: linear-gradient(
    to bottom,
    rgba(139, 69, 19, 0.3),
    rgba(139, 69, 19, 0.1),
    rgba(139, 69, 19, 0.3)
  );
  pointer-events: none;
  z-index: 4;
}

.bookSpine {
  display: none;
  
  @include desktop {
    display: block;
    position: fixed;
    left: 50%;
    top: 0;
    bottom: 0;
    width: 20px;
    transform: translateX(-50%);
    background: linear-gradient(
      to right,
      rgba(139, 69, 19, 0.2),
      rgba(139, 69, 19, 0.4),
      rgba(139, 69, 19, 0.2)
    );
    box-shadow: 
      inset 0 0 10px rgba(0, 0, 0, 0.3),
      0 0 20px rgba(0, 0, 0, 0.2);
    z-index: 0;
    pointer-events: none;
  }
}

// Mobile optimizations
@include mobile {
  .bookPage {
    box-shadow: none;
    
    &::before {
      background: linear-gradient(
        90deg,
        rgba(0, 0, 0, 0.02) 0%,
        transparent 3%,
        transparent 97%,
        rgba(0, 0, 0, 0.02) 100%
      );
    }
  }
  
  .pageShadow {
    width: 20px;
    opacity: 0.3;
  }
}
